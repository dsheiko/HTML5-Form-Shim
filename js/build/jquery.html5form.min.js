/*! html5formshim 2014-01-17 */
var hfFormShim=function(a,b){"use strict";return"function"==typeof define&&define.amd?void define(function(a,c){return b(c)}):b("undefined"!=typeof exports?exports:{})}(this,function(a){"use strict";return a.version="2.2.2-dev",function(a,b){var c=function(a){if(a.jQuery===b)throw new ReferenceError("jQuery is required");return a.jQuery}(a),d=a.document,e=null,f=500,g={language:function(){return(a.navigator.userLanguage||a.navigator.language).substr(0,2)}()},h={createInstance:function(a,b){var c,d,e=a.apply(a.prototype,b||[])||{},f=function(){};e.hasOwnProperty("__extends__")&&e.__extends__&&(a.prototype=h.createInstance(e.__extends__,b)),f.prototype=a.prototype;for(c in e)e.hasOwnProperty(c)&&(f.prototype[c]=e[c]);return d=new f,e.hasOwnProperty("__constructor__")&&e.__constructor__.apply(d,b||[]),d},onDomReady:function(a){"function"==typeof define&&define.amd?require(["domReady"],function(b){b(a)}):c(d).ready(a)},isString:function(a){return"string"==typeof a&&isNaN(a)},isNumber:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},ucfirst:function(a){return a+="",a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}},i={supportedInputTypes:function(){var a=d.createElement("input"),b=function(b){for(var c=0,d=[],e=b.length;e>c;c++)a.setAttribute("type",b[c]),d[b[c]]="text"!==a.type;return d}("search tel url email datetime date month week time datetime-local number range color".split(" "));return b}(),supportedInputProps:function(){var a=d.createElement("input"),b=function(b){for(var c=0,d=[],e=b.length;e>c;c++)d[b[c]]=!!(b[c]in a);return d}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));return b}()},j=function(){var a=[];return{__constructor__:function(){c("form[data-enable-shim='true']").each(function(){a.push(h.createInstance(k,[{boundingBox:c(this)}]))})},getInput:function(b){var d,e,f=c(b);for(d in a)if(e=a[d].getInput(f))return e;return null}}},k=function(){return{boundingBox:null,inputs:{},options:{boundingBox:null,inputs:"input, textarea",handlers:{onSubmit:function(){}}},valid:!0,__constructor__:function(a){var b=this;if(!a.boundingBox)throw new Error("Options property boundingBox undefined ");this.boundingBox=a.boundingBox,c.extend(this.options,a),this.inputs=[],this.isCustomValidation()&&this.boundingBox.attr("novalidate","novalidate"),this.shimFormAttrMutators(),this.initInputs(),this.boundingBox.on("submit",function(a){b.handleOnSubmit(a)})},getLocalId:function(a){var b=a.data("local-id")||j.incrementor++;return a.data("local-id",j.incrementor),b},getInput:function(a){var b=c(a),d=this.getLocalId(b);return this.inputs[d]||null},initInputs:function(){var a=this;this.boundingBox.find(this.options.inputs).each(function(){var b=c(this),d=a.getLocalId(b),e=a.inputFactory(b);e!==!1&&(a.inputs[d]=e)})},shimFormAttrMutators:function(){var a=this;this.boundingBox.find("input, button").each(function(){c(this).attr("formaction")&&c(this).on("click",function(){a.boundingBox.attr("action",c(this).attr("formaction"))}),c(this).attr("formenctype")&&c(this).on("click",function(){a.boundingBox.attr("enctype",c(this).attr("formenctype"))}),c(this).attr("formmethod")&&c(this).on("click",function(){a.boundingBox.attr("method",c(this).attr("formmethod"))}),c(this).attr("formtarget")&&c(this).on("click",function(){a.boundingBox.attr("target",c(this).attr("formtarget"))})})},isCustomValidation:function(){return this.boundingBox.data("custom-validation")!==b},isNoValidate:function(){return this.boundingBox.attr("novalidate")!==b},setValid:function(){this.valid=!0,this.boundingBox.addClass("valid").removeClass("invalid")},setInvalid:function(){this.valid=!1,this.boundingBox.addClass("invalid").removeClass("valid")},inputFactory:function(a){var b=h.ucfirst(a.data("type")||a.attr("type"));return a.is("[pattern]")&&(b="Text"),h.createInstance(n[b]||n.Text,[a,this.isCustomValidation()])},handleOnSubmit:function(a){var b,c,d=!0;if(this.inputs){for(b in this.inputs)this.inputs.hasOwnProperty(b)&&(c=this.inputs[b],c.resetValidationState(),c.isShimRequired()&&(c.checkValidity(),c.updateState(),c.validity.valid||(c.validationMessageNode?c.showValidationMessage():d&&c.showTooltip(),d=!1)));this.options.handlers.onSubmit(),d?this.setValid():(this.setInvalid(),a.preventDefault())}}}},l=function(){return{valueMissing:!1,typeMismatch:!1,patternMismatch:!1,tooLong:!1,rangeUnderflow:!1,rangeOverflow:!1,stepMismatch:!1,badInput:!1,customError:!1,valid:!0}},m=function(){return{boundingBox:null,defaultValidationMessages:{en:{valueMissing:"Please fill out this field",typeMismatch:"",patternMismatch:"The pattern is mismatched",rangeUnderflow:"The value is too low",rangeOverflow:"The value is too high",tooLong:"The value is too long",stepMismatch:"Invalid step for the range",badInput:"The user agent is unable to convert to a value",customError:""},de:{valueMissing:"Bitte f端llen Sie dieses Feld aus",typeMismatch:"",patternMismatch:"Die Eingabe stimmt nicht mit dem vorgegebenen Muster 端berein",rangeUnderflow:"Der Wert ist zu niedrig",rangeOverflow:"Der Wert ist zu hoch",tooLong:"Die Eingabe ist zu lang",stepMismatch:"Ung端ltiger Schritt in diesem Bereich",badInput:"Der Browser kann die Eingabe nicht in einen g端ltigen Wert umwandeln",customError:""}},validity:new l,validationMessage:"",validationMessageNode:null,deferredRequest:null,forceShim:!1,__constructor__:function(a,b){var c=this;this.boundingBox=a,this.forceShim=!!b,this.boundingBox.removeClass("valid invalid"),this.boundingBox.checkValidity=function(){return c.checkValidity()},this.shimSetCustomValidity(),this.lookForValidationMessageNode(),(this.forceShim||!i.supportedInputProps.placeholder)&&this.shimPlaceholder(),(this.forceShim||!i.supportedInputProps.required)&&this.shimRequired(),(this.forceShim||!i.supportedInputProps.autofocus)&&(this.shimFocusPseudoClass(),this.shimAutofocus()),this.boundingBox.data("custom-validation")&&this.boundingBox.attr("novalidate","novalidate"),this.isShimRequired()&&this.shimOnInput()},val:function(a){return a!==b?this.boundingBox=a:this.boundingBox},degrade:function(){return this.boundingBox.get(0).type="text",this},shimSetCustomValidity:function(){this.boundingBox.get(0).setCustomValidity=c.fn.setCustomValidity,this.boundingBox.get(0).setCustomValidity=function(a){a&&this.throwValidationException("customError",a),this.boundingBox.get(0).setCustomValidity(a)}},isShimRequired:function(){return this.forceShim||!i.supportedInputTypes[this.boundingBox.attr("type")]||this.boundingBox.data("custom-validation")},checkValidity:function(){return this.validateRequired(),(this.isRequired()||!this.isEmpty())&&this.checkValidityWithoutRequired(),this.validity.valid},checkValidityWithoutRequired:function(){this.validateValue&&this.validateValue(),this.validateByPattern(),this.validateCustomValidity()},lookForValidationMessageNode:function(){var a,b;(a=this.boundingBox.attr("id"))&&(b=c("form *[data-validation-message-for="+a+"]"),this.validationMessageNode=b.length?b:null)},showValidationMessage:function(){var a=this.validationMessage;this.validationMessageNode.html(a),this.validationMessageNode[a?"show":"hide"]()},shimOnInput:function(){var a=this;this.boundingBox.on("change mouseup keydown",function(){a.handleOnInput()})},resetValidationState:function(){this.validity=new l,this.validationMessage="",this.validationMessageNode&&this.showValidationMessage()},handleOnInput:function(){var b=this;null!==this.deferredRequest&&a.clearTimeout(this.deferredRequest),this.deferredRequest=a.setTimeout(function(){b.resetValidationState(),b.deferredRequest=null,b.invokeOnInputCallBack(),b.boundingBox.trigger("oninput",b),b.checkValidityWithoutRequired(),b.updateState(),b.validationMessageNode&&b.showValidationMessage()},f)},invokeOnInputCallBack:function(){var c,d;this.boundingBox.attr("oninput")!==b&&(c=this.boundingBox.attr("oninput"),d=c.indexOf("("),c=d?c.substr(0,d):c,a[c](this.boundingBox))},handleOnFocus:function(){this.boundingBox.val()===this.boundingBox.attr("placeholder")&&(this.boundingBox.val(""),this.boundingBox.removeClass("placeholder"))},handleOnBlur:function(){this.boundingBox.val()||(this.boundingBox.val(this.boundingBox.attr("placeholder")),this.boundingBox.addClass("placeholder"))},validateCustomValidity:function(){return this.boundingBox.data("customvalidity")?(this.throwValidationException("customError",this.boundingBox.data("customvalidity")),!1):!0},shimRequired:function(){this.boundingBox.attr("required")===b||this.boundingBox.addClass("required").data("custom-validation","true")},shimFocusPseudoClass:function(){var a=this;this.boundingBox.on("focus",function(){a.boundingBox.addClass("focus")}).on("blur",function(){a.boundingBox.removeClass("focus")})},shimAutofocus:function(){this.boundingBox.attr("autofocus")!==b&&(this.boundingBox.focus(),this.handleOnFocus())},shimPlaceholder:function(){var a=this;this.boundingBox.attr("placeholder")!==b&&(this.boundingBox.attr("autocomplete","false"),this.handleOnBlur(),this.boundingBox.on("focusin",function(){a.handleOnFocus()}).on("focusout",function(){a.handleOnBlur()}))},throwValidationException:function(a,c){var d=this.defaultValidationMessages[g.language]||this.defaultValidationMessages.en;if(this.validity[a]===b)throw new SyntaxError("Invalid validity property '"+a+"'");this.validity[a]=!0,this.validity.valid=!1,this.validationMessage=c||d[a],this.shimConstraintValidationApi()},shimConstraintValidationApi:function(){var a=this.boundingBox.get(0);try{a.validity=this.validity}catch(b){}},validateByPattern:function(){if(!this.boundingBox.attr("pattern"))return!0;var a=new RegExp(this.boundingBox.attr("pattern"),"g");a.test(this.boundingBox.val())||this.throwValidationException("patternMismatch",this.boundingBox.attr("title")||null)},validateRequired:function(){this.isRequired()&&this.isEmpty()&&this.throwValidationException("valueMissing")},isRequired:function(){return this.boundingBox.hasClass("required")},isEmpty:function(){return this.boundingBox.val()===this.boundingBox.attr("placeholder")||!this.boundingBox.val()},updateState:function(){var a=this.validity.valid?"valid":"invalid";return this.boundingBox.removeClass("valid invalid").addClass(a),a},showTooltip:function(a){c.setCustomValidityCallback.apply(this.boundingBox,[a||this.validationMessage])}}},n={Text:function(){return{__extends__:m}},Tel:function(){return{__extends__:m,__constructor__:function(){this.degrade()},validateValue:function(){var a=/^\+(?:[0-9] ?){6,14}[0-9]$/;a.test(this.boundingBox.val())||this.throwValidationException("typeMismatch","Please enter a valid tel. number +1 11 11 11")}}},Email:function(){return{__extends__:m,__constructor__:function(){this.degrade()},validateValue:function(){var a=/^[a-zA-Z0-9._\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,4}$/g;a.test(this.boundingBox.val())||this.throwValidationException("typeMismatch","Please enter a valid email address")}}},Number:function(){return{__extends__:m,__constructor__:function(){this.degrade()},validateValue:function(){h.isNumber(parseInt(this.boundingBox.val(),10))||this.throwValidationException("typeMismatch","Please enter a valid number"),this.boundingBox.attr("min")&&parseInt(this.boundingBox.val(),10)<parseInt(this.boundingBox.attr("min"),10)&&this.throwValidationException("rangeUnderflow"),this.boundingBox.attr("max")&&parseInt(this.boundingBox.val(),10)>parseInt(this.boundingBox.attr("max"),10)&&this.throwValidationException("rangeOverflow")}}},Url:function(){return{__extends__:m,__constructor__:function(){this.degrade()},validateValue:function(){var a=/^(https?:\/\/)?((([a-z\d]([a-z\d\-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(\:\d+)?(\/[\-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=\-]*)?(\#[\-a-z\d_]*)?$/i;a.test(this.boundingBox.val())||this.throwValidationException("typeMismatch","Please enter a valid URL")}}}};return j.incrementor=0,c.setCustomInputTypeValidator=function(a,b,c,d){n[h.ucfirst(a)]=function(){return{__extends__:m,__constructor__:function(){d&&d.apply(this.boundingBox,[this])},validateValue:function(){c.apply(this.boundingBox,[this])||this.throwValidationException("customError",b)}}}},c.setCustomValidityCallback=function(b){var d,e=this.position(),f=this.parent(),g="has-tip-"+Math.ceil(e.left)+"-"+Math.ceil(e.top);f.hasClass(g)||(f.addClass(g),d=c('<div class="tooltip tooltip-e"><div class="tooltip-arrow tooltip-arrow-e"></div><div class="tooltip-inner">'+b+"</div></div>").appendTo(f),d.css({top:e.top-d.height()/2+20,left:e.left-d.width()-12}),a.setTimeout(function(){d.remove(),f.removeClass(g)},2500))},c.fn.setCustomValidity=function(a){c(this).each(function(b,d){c(d).data("customvalidity",a)})},h.onDomReady(function(){e=h.createInstance(j)}),{init:function(a){e=a&&a.boundingBox&&a.boundingBox.length?h.createInstance(k,[a]):h.createInstance(j)},getInput:function(a){return e.getInput(a)},getTestable:function(){return{util:h,Input:n}}}}(window)});